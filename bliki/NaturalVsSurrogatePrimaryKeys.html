<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='content-type'>
    <title>
      Kjell-Magne Øierud :: bliki :: Natural vs surrogate primary keys
    </title>
    <link href='/bliki/feed.atom' rel='alternate' title='Feed' type='application/atom+xml'>
    <link href='/css/coderay.css' rel='stylesheet' type='text/css'>
    <link href='/css/site.css' media='screen, projection' rel='stylesheet' type='text/css'>
    <script src='/main.js' type='text/javascript'></script>
  </head>
  <body>
    <div id='container'>
      <h1>Kjell-Magne Øierud :: Bliki</h1>
      <p id='subtitle'>Thoughts on software development</p>
      <div id='menu'>
        <span style="float:left;">[ <a href="..">Home</a> ] [ <a href="."><strong>Blog</strong></a> ] </span><span style="float: right;">[ <a href="feed.atom">Feed</a> ]</span>
      </div>
      <div class='date'>
        2008-09-10 20:22 CEST
      </div>
      <h2>
        Natural vs surrogate primary keys
      </h2>
      <div class='notice'>
        <p>
          This article is part of a series on <a
          href="SelectedTopicsOnDatabaseManagementSystems.html">selected topics on
          database management systems</a>
        </p>
      </div>
      <p>
        To identify the different records in a relational table, we use a primary
        key. There are two kinds of primary keys with very different
        characteristics. A <a
        href="http://en.wikipedia.org/wiki/Natural_key"><em>natural key</em></a>
        uses a column or columns that are a natural part of a record, while a <a
        href="http://en.wikipedia.org/wiki/Surrogate_key"><em>surrogate key</em></a>
        is added to the record and uses artificial data. When choosing your
        strategy, it is important to be aware of the advantages and disadvantages.
      </p>
      <p>
        The main advantage of a natural key is that it can be verified by comparing
        it with real world data. This is how users of the system typically will
        identify data.
      </p>
      <p>
        A surrogate key on the other hand has the advantage of being more robust to
        changes in how we identify the records in the real world. When the natural
        key changes (e.g. because of changes in business requirements), you don't
        have to change all your internal references to the record.
      </p>
      <p>
        It is also more efficient for the database system to use surrogate keys.
        This is true especially when joining on the primary keys, or if the system
        uses clustered primary key indexes.
      </p>
      <p>
        Since a surrogate key normally is internal to a system, it can't be used to
        reference entities in external systems.
      </p>
      <p>
        There should always be maintained a natural key in a table even if a
        surrogate key is chosen as the primary. If not, the records will loose their
        connection to the real world. But be aware that the two keys might get out
        of sync without you noticing it.
      </p>
      <h3>Read more</h3>
      <ul class='bibliography'>
        <li>
          Celko, J. (2005), <em>SQL Programming Style</em>, San Francisco: Morgan
          Kaufmann<br>Chapter 3.13
        </li>
        <li>
          Ambler S. W., <em><a href="http://www.agiledata.org/essays/keys.html">
          Choosing a Primary Key: Natural or Surrogate?</a></em>, Agile Data
        </li>
        <li>
          Richardson L. (2007), <em><a
          href="http://rapidapplicationdevelopment.blogspot.com/2007/08/in-case-youre-new-to-series-ive.html">Surrogate
          vs Natural Primary Keys – Data Modeling Mistake 2 of 10</a></em>, Rapid
          Application Development Blog
        </li>
      </ul>
      <hr>
      <div class='sponsor'>
        <a href='http://redpill-linpro.com' target='_blank'>
          <img alt='Redpill Linpro' src='/images/rplp.gif'>
        </a>
      </div>
      <div id='disqus_thread'></div>
      <script type='text/javascript'>
        var disqus_identifier = Naturalvssurrogateprimarykeys
      </script>
      <script src='http://disqus.com/forums/km-oierud/embed.js' type='text/javascript'></script>
      <noscript>
        <a href='http://disqus.com/forums/km-oierud/?url=ref'>View the discussion thread.</a>
      </noscript>
      <a class='dsq-brlink' href='http://disqus.com'>blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </body>
</html>
