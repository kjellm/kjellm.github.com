<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Kjell-Magne Øierud :: bliki :: Natural vs surrogate primary keys</title>
    <meta name="author" content="" />

    <link rel="alternate" type="application/atom+xml" title="Feed" href="/bliki/feed.atom">



    <!-- CodeRay syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/coderay.css" type="text/css" />
 
    <!-- Homepage CSS -->
    <link rel="stylesheet" href="/css/site.css" type="text/css" media="screen, projection" />

    <script type="text/javascript" src="/main.js"></script>
  </head>
  <body>
    <div id="container">
      <h1>Kjell-Magne Øierud :: Bliki</h1>

      <p id="subtitle">Thoughts on software development
  
      <div id="menu"><span style="float:left;">[ <a href="..">Home</a> ] [ <a href="."><strong>Blog</strong></a> ] [ <a href="../code">Code</a> ]</span><span style="float: right;">[ <a href="feed.atom">Feed</a> ]</span></div>
      


      <div class="date">2008-09-10 20:22 CEST</div>

<h2>Natural vs surrogate primary keys</h2>


<div class="notice">
  <p>This article is part of a series
  on <a href="SelectedTopicsOnDatabaseManagementSystems.html">selected
  topics on database management systems</a>
</div>


<p>To identify the different records in a relational table, we use a
primary key. There are two kinds of primary keys with very different
characteristics. A <a href="http://en.wikipedia.org/wiki/Natural_key"><em>natural
key</em></a> uses a column or columns that are a natural part of a
record, while
a <a href="http://en.wikipedia.org/wiki/Surrogate_key"><em>surrogate
key</em></a> is added to the record and uses artificial data. When
choosing your strategy, it is important to be aware of the advantages
and disadvantages.

<p>The main advantage of a natural key is that it can be verified by
comparing it with real world data. This is how users of the system
typically will identify data.

<p>A surrogate key on the other hand has the advantage of being more
robust to changes in how we identify the records in the real
world. When the natural key changes (e.g. because of changes in
business requirements), you don't have to change all your internal
references to the record.

<p>It is also more efficient for the database system to use surrogate
keys. This is true especially when joining on the primary keys, or if
the system uses clustered primary key indexes.

<p>Since a surrogate key normally is internal to a system, it can't
be used to reference entities in external systems.

<p>There should always be maintained a natural key in a table even if
a surrogate key is chosen as the primary. If not, the records will
loose their connection to the real world. But be aware that the two
keys might get out of sync without you noticing it.


<h3>Read more</h3>

<ul class="bibliography">
  <li>Celko, J. (2005), <em>SQL Programming Style</em>, San Francisco: Morgan Kaufmann<br>
    Chapter 3.13

  <li>Ambler S. W., <em><a
  href="http://www.agiledata.org/essays/keys.html">Choosing a Primary
  Key: Natural or Surrogate?</a></em>, Agile Data

  <li>Richardson L. (2007), <em><a
  href="http://rapidapplicationdevelopment.blogspot.com/2007/08/in-case-youre-new-to-series-ive.html">Surrogate
  vs Natural Primary Keys – Data Modeling Mistake 2 of 10</a></em>,
  Rapid Application Development Blog
</ul>


      <hr>
<div class="sponsor">
  <a href="http://redpill-linpro.com" target="_blank"><img src="../rplp.gif" alt="Redpill Linpro"></a>
</div>


      <div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/km-oierud/embed.js"></script><noscript><a href="http://disqus.com/forums/km-oierud/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </body>
</html>
